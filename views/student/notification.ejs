
<% function formatDate(date) {
    const formattedDate = new Date(date);
    const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
    return formattedDate.toLocaleDateString('en-GB', options);
} %>

<% function formatTime(date) {
    const formattedTime = new Date(date);
    const hours = formattedTime.getHours() % 12 || 12;
    const minutes = formattedTime.getMinutes();
    const ampm = formattedTime.getHours() >= 12 ? 'PM' : 'AM';

    return `${hours}:${minutes.toLocaleString('en-US', { minimumIntegerDigits: 2 })} ${ampm}`;
} %>
<div class="window" id="window_layout">
    <div class="window_navbar">
        <%- include('../partials/student/navigation_bar.ejs',{notification}) %>
    </div>
    <div class="window_container">
        <%if(notification.circular!==null){%>
            <a href="/student/circular/<%=student._id%>/<%=student.id%>"><div>new circular</div></a>
        <%}%>
        <%notification.newTest.map((item)=>{%>
           <a href="/student/testmarks/<%=student._id%>/<%=student.id%>/<%=student.section%>"><div>new <%- item.testtitle %></div></a>
        <%})%>
        <%notification.digitalDairy.map((item)=>{%>
            <a href="/student/dairy/<%=student._id%>/<%=student.id%>/<%=student.section%>"><div>instruction from <%- item.from %> on <br>
                <label>Date: </label> <%-formatDate(item.date) %> <br>
                 <label>Time: </label><%-formatTime(item.date)%></div></a>
                 <hr>
        <%})%>
    </div>
</div>